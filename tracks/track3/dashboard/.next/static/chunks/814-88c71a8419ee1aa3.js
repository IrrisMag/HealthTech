"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{3648:function(e,t,r){r.d(t,{Z:function(){return d}});var a=r(7437),s=r(429),i=r(3639),n=r(1723),c=r(5302),o=r(340),l=r(5252);function d(e){let{data:t}=e;if(!t)return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Optimization Recommendations"})}),(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},t))})]});let r=e=>{switch(e){case"emergency":case"critical":return i.Z;case"high":return n.Z;default:return c.Z}},d=e=>{switch(e){case"emergency":case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";default:return"text-green-600 bg-green-100"}},m=e=>{switch(e){case"emergency_order":return i.Z;case"routine_order":return o.Z;default:return c.Z}},x=e=>({"A+":"bg-red-500","A-":"bg-red-600","B+":"bg-blue-500","B-":"bg-blue-600","AB+":"bg-purple-500","AB-":"bg-purple-600","O+":"bg-orange-500","O-":"bg-orange-600"})[e]||"bg-gray-500";return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"card-header",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Optimization Recommendations"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Real-time"})]})]}),0===t.recommendations.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"All Good!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No optimization recommendations at this time."})]}):(0,a.jsx)("div",{className:"space-y-4",children:t.recommendations.map((e,t)=>{let i=r(e.priority_level);return m(e.recommendation_type),(0,a.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(d(e.priority_level)),children:(0,a.jsx)(i,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white ".concat(x(e.blood_type)),children:e.blood_type}),(0,a.jsx)("span",{className:"status-indicator ".concat("emergency"===e.priority_level||"critical"===e.priority_level?"status-critical":"high"===e.priority_level?"bg-orange-100 text-orange-800":"status-adequate"),children:e.priority_level.toUpperCase()})]}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.recommendation_type.replace("_"," ").toUpperCase()})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Confidence"}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[(100*e.confidence_score).toFixed(0),"%"]})]})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:e.reasoning}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Order Quantity"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.recommended_order_quantity," units"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Estimated Cost"}),(0,a.jsxs)("div",{className:"font-medium",children:["$",e.cost_estimate.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Expected Delivery"}),(0,a.jsx)("div",{className:"font-medium",children:new Date(e.expected_delivery_date).toLocaleDateString()})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Generated ",new Date(e.created_at).toLocaleString()]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors",children:"View Details"}),(0,a.jsx)("button",{className:"px-3 py-1 text-xs font-medium text-white rounded transition-colors ".concat("emergency"===e.priority_level||"critical"===e.priority_level?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:"Execute Order"})]})]})]},e.recommendation_id)})}),t.recommendations.length>0&&(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:t.recommendations.filter(e=>"emergency"===e.priority_level||"critical"===e.priority_level).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Critical Actions"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",t.recommendations.reduce((e,t)=>e+t.cost_estimate,0).toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Cost"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.recommendations.reduce((e,t)=>e+t.recommended_order_quantity,0)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Units"})]})]})})]})}},9116:function(e,t,r){r.d(t,{RT:function(){return m},a7:function(){return x},nz:function(){return l},wS:function(){return d}});var a=r(3464);let s=a.Z.create({baseURL:"https://healthtech-production-e602.up.railway.app",timeout:1e4,headers:{"Content-Type":"application/json"}}),i=a.Z.create({baseURL:"https://healthtech-production-e602.up.railway.app",timeout:15e3,headers:{"Content-Type":"application/json"}}),n=a.Z.create({baseURL:"https://healthtech-production-e602.up.railway.app",timeout:1e4,headers:{"Content-Type":"application/json"}}),c=e=>{let t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e};s.interceptors.request.use(c),i.interceptors.request.use(c),n.interceptors.request.use(c);let o=async()=>{try{return(await s.get("/dashboard/metrics")).data}catch(e){throw console.error("Error fetching dashboard metrics:",e),Error("Failed to fetch dashboard metrics")}},l=async()=>{try{return(await s.get("/inventory")).data}catch(e){throw console.error("Error fetching blood inventory:",e),Error("Failed to fetch blood inventory")}},d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;try{let t=["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(async t=>{try{return(await i.get("/forecast/".concat(t,"?periods=").concat(e))).data.forecasts.map(e=>({blood_type:t,date:e.date,predicted_demand:e.predicted_demand,confidence_interval_lower:e.lower_bound,confidence_interval_upper:e.upper_bound}))}catch(e){return console.error("Error fetching forecast for ".concat(t,":"),e),[]}});return(await Promise.all(t)).flat()}catch(t){return console.error("Error fetching forecasts:",t),u(e)}},m=async()=>{try{return(await n.get("/recommendations/active")).data.recommendations||[]}catch(e){return console.error("Error fetching optimization recommendations:",e),g()}},x=async()=>{try{let[e,t,r,a]=await Promise.all([o(),l(),d(),m()]),s=h(t),i=p(s,a);return{metrics:e,blood_types:s,forecasts:r,recommendations:a,alerts:i}}catch(e){return console.error("Error fetching dashboard data:",e),y()}},h=e=>["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(t=>{let r;let a=e.filter(e=>e.blood_type===t).length;return r=a<=5?"critical":a<=15?"low":a<=30?"adequate":a<=40?"optimal":"excess",{type:t,current_stock:a,safety_stock:20,reorder_point:15,days_until_expiry:Math.floor(30*Math.random())+1,status:r,trend:["increasing","decreasing","stable"][Math.floor(3*Math.random())]}}),p=(e,t)=>{let r=[];return e.forEach(e=>{"critical"===e.status&&r.push({id:"critical-".concat(e.type),type:"critical",title:"Critical Stock Level",message:"".concat(e.type," blood type has critically low stock (").concat(e.current_stock," units)"),blood_type:e.type,timestamp:new Date().toISOString(),acknowledged:!1})}),t.forEach(e=>{"emergency"===e.priority_level&&r.push({id:"emergency-".concat(e.recommendation_id),type:"critical",title:"Emergency Order Required",message:e.reasoning,blood_type:e.blood_type,timestamp:e.created_at,acknowledged:!1})}),r},u=e=>{let t=[];return["A+","A-","B+","B-","AB+","AB-","O+","O-"].forEach(r=>{for(let a=1;a<=e;a++){let e=new Date;e.setDate(e.getDate()+a);let s=20*Math.random()+10;t.push({blood_type:r,date:e.toISOString().split("T")[0],predicted_demand:s,confidence_interval_lower:.8*s,confidence_interval_upper:1.2*s})}}),t},g=()=>[{recommendation_id:"rec-001",blood_type:"O+",current_stock_level:"critical",recommendation_type:"emergency_order",recommended_order_quantity:50,priority_level:"emergency",cost_estimate:6250,expected_delivery_date:new Date(Date.now()+2592e5).toISOString(),reasoning:"URGENT: Current stock (5) is below safety level (20).",confidence_score:.95,created_at:new Date().toISOString()}],y=()=>({metrics:{total_donors:1250,total_donations_today:15,total_donations_this_month:342,total_inventory_units:890,units_expiring_soon:23,pending_requests:8,emergency_requests:2,blood_type_distribution:{"O+":180,"O-":45,"A+":150,"A-":38,"B+":120,"B-":32,"AB+":85,"AB-":22},component_distribution:{whole_blood:450,red_cells:280,plasma:160},last_updated:new Date().toISOString()},blood_types:h([]),forecasts:u(7),recommendations:g(),alerts:[]})}}]);