(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(908),s(2222),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),l=s(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"/home/tep/HealthTech/HealthTech/tracks/track3/dashboard/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2222)),"/home/tep/HealthTech/HealthTech/tracks/track3/dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/tep/HealthTech/HealthTech/tracks/track3/dashboard/app/page.tsx"],x="/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2392:(e,t,s)=>{Promise.resolve().then(s.bind(s,1433))},1433:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var r=s(326),a=s(7577),i=s(6856),n=s(4061),l=s(2978),c=s(8998),o=s(7202),d=s(7069),x=s(6557);let u=(0,x.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function m({data:e}){if(!e)return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((e,t)=>(0,r.jsxs)("div",{className:"metric-card animate-pulse",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},t))});let t=[{title:"Total Donors",value:e.metrics.total_donors.toLocaleString(),icon:n.Z,color:"text-blue-600",bgColor:"bg-blue-100",trend:"+12%",trendUp:!0},{title:"Donations Today",value:e.metrics.total_donations_today.toString(),icon:l.Z,color:"text-green-600",bgColor:"bg-green-100",trend:"+5",trendUp:!0},{title:"Total Inventory",value:e.metrics.total_inventory_units.toLocaleString(),icon:l.Z,color:"text-purple-600",bgColor:"bg-purple-100",trend:"-2%",trendUp:!1},{title:"Expiring Soon",value:e.metrics.units_expiring_soon.toString(),icon:c.Z,color:"text-yellow-600",bgColor:"bg-yellow-100",trend:"+3",trendUp:!1},{title:"Pending Requests",value:e.metrics.pending_requests.toString(),icon:o.Z,color:"text-orange-600",bgColor:"bg-orange-100",trend:"-1",trendUp:!0},{title:"Emergency Requests",value:e.metrics.emergency_requests.toString(),icon:o.Z,color:"text-red-600",bgColor:"bg-red-100",trend:"0",trendUp:!0},{title:"This Month",value:e.metrics.total_donations_this_month.toLocaleString(),icon:d.Z,color:"text-indigo-600",bgColor:"bg-indigo-100",trend:"+18%",trendUp:!0},{title:"Active Alerts",value:e.alerts.filter(e=>!e.acknowledged).length.toString(),icon:o.Z,color:"text-red-600",bgColor:"bg-red-100",trend:e.alerts.length>0?"High":"Low",trendUp:0===e.alerts.length}];return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,t)=>r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"metric-card group hover:shadow-lg transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.value}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[e.trendUp?r.jsx(d.Z,{className:"w-4 h-4 text-green-500"}):r.jsx(u,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:`text-xs font-medium ${e.trendUp?"text-green-600":"text-red-600"}`,children:e.trend}),r.jsx("span",{className:"text-xs text-gray-500",children:"vs last week"})]})]}),r.jsx("div",{className:`p-3 rounded-lg ${e.bgColor} group-hover:scale-110 transition-transform duration-200`,children:r.jsx(e.icon,{className:`w-6 h-6 ${e.color}`})})]})},e.title))})}function h({data:e}){let t=(0,a.useRef)(null);return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"card-header",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Blood Inventory Levels"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-3 h-0.5 bg-yellow-500",style:{borderStyle:"dashed"}}),r.jsx("span",{children:"Safety Stock"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-3 h-0.5 bg-red-500",style:{borderStyle:"dashed"}}),r.jsx("span",{children:"Reorder Point"})]})]})]}),r.jsx("div",{className:"chart-container",children:r.jsx("svg",{ref:t,className:"w-full h-full"})})]})}s(6189);var p=s(655),g=s(679),y=s(2482);function f(){let e=(0,a.useRef)(!1);return(0,y.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var v=s(805),j=s(295),b=s(4749);class N extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function w({children:e,isPresent:t}){let s=(0,a.useId)(),r=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:n,left:l}=i.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=s;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${n}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),a.createElement(N,{isPresent:t,childRef:r,sizeRef:i},a.cloneElement(e,{ref:r}))}let k=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:l})=>{let c=(0,b.h)(E),o=(0,a.useId)(),d=(0,a.useMemo)(()=>({id:o,initial:t,isPresent:s,custom:i,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;r&&r()},register:e=>(c.set(e,!1),()=>c.delete(e))}),n?void 0:[s]);return(0,a.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[s]),a.useEffect(()=>{s||c.size||!r||r()},[s]),"popLayout"===l&&(e=a.createElement(w,{isPresent:s},e)),a.createElement(j.O.Provider,{value:d},e)};function E(){return new Map}var _=s(339),S=s(4673);let P=e=>e.key||"",q=({children:e,custom:t,initial:s=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:n=!0,mode:l="sync"})=>{var c;(0,S.k)(!i,"Replace exitBeforeEnter with mode='wait'");let o=(0,a.useContext)(_.p).forceRender||function(){let e=f(),[t,s]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&s(t+1)},[t]);return[(0,a.useCallback)(()=>v.Wi.postRender(r),[r]),t]}()[0],d=f(),x=function(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(e),u=x,m=(0,a.useRef)(new Map).current,h=(0,a.useRef)(u),p=(0,a.useRef)(new Map).current,g=(0,a.useRef)(!0);if((0,y.L)(()=>{g.current=!1,function(e,t){e.forEach(e=>{let s=P(e);t.set(s,e)})}(x,p),h.current=u}),c=()=>{g.current=!0,p.clear(),m.clear()},(0,a.useEffect)(()=>()=>c(),[]),g.current)return a.createElement(a.Fragment,null,u.map(e=>a.createElement(k,{key:P(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:n,mode:l},e)));u=[...u];let j=h.current.map(P),b=x.map(P),N=j.length;for(let e=0;e<N;e++){let t=j[e];-1!==b.indexOf(t)||m.has(t)||m.set(t,void 0)}return"wait"===l&&m.size&&(u=[]),m.forEach((e,s)=>{if(-1!==b.indexOf(s))return;let i=p.get(s);if(!i)return;let c=j.indexOf(s),g=e;g||(g=a.createElement(k,{key:P(i),isPresent:!1,onExitComplete:()=>{m.delete(s);let e=Array.from(p.keys()).filter(e=>!b.includes(e));if(e.forEach(e=>p.delete(e)),h.current=x.filter(t=>{let r=P(t);return r===s||e.includes(r)}),!m.size){if(!1===d.current)return;o(),r&&r()}},custom:t,presenceAffectsLayout:n,mode:l},i),m.set(s,g)),u.splice(c,0,g)}),u=u.map(e=>{let t=e.key;return m.has(t)?e:a.createElement(k,{key:P(e),isPresent:!0,presenceAffectsLayout:n,mode:l},e)}),a.createElement(a.Fragment,null,m.size?u:u.map(e=>(0,a.cloneElement)(e)))},C=(0,x.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var R=s(6507),Z=s(4019);function A({data:e}){let[t,s]=(0,a.useState)(new Set);if(!e)return null;let n=e.alerts.filter(e=>!e.acknowledged&&!t.has(e.id)),l=e=>{s(t=>new Set([...t,e]))},c=e=>{switch(e){case"critical":case"warning":return o.Z;default:return C}},d=e=>{switch(e){case"critical":return{container:"bg-red-50 border-red-200",icon:"text-red-600",title:"text-red-800",message:"text-red-700",button:"text-red-600 hover:text-red-800"};case"warning":return{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-600",title:"text-yellow-800",message:"text-yellow-700",button:"text-yellow-600 hover:text-yellow-800"};default:return{container:"bg-blue-50 border-blue-200",icon:"text-blue-600",title:"text-blue-800",message:"text-blue-700",button:"text-blue-600 hover:text-blue-800"}}};return 0===n.length?r.jsx(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(R.Z,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-green-800",children:"All Systems Normal"}),r.jsx("p",{className:"text-sm text-green-700",children:"No active alerts. Blood bank operations are running smoothly."})]})]})}):(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(q,{children:n.map((e,t)=>{let s=c(e.type),a=d(e.type);return r.jsx(i.E.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{delay:.1*t},className:`border rounded-lg p-4 ${a.container}`,children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(s,{className:`h-5 w-5 ${a.icon} ${"critical"===e.type?"animate-pulse":""}`})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h3",{className:`text-sm font-medium ${a.title}`,children:[e.title,e.blood_type&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-white text-gray-800",children:e.blood_type})]}),r.jsx("button",{onClick:()=>l(e.id),className:`ml-2 flex-shrink-0 ${a.button} transition-colors`,children:r.jsx(Z.Z,{className:"h-4 w-4"})})]}),r.jsx("p",{className:`mt-1 text-sm ${a.message}`,children:e.message}),(0,r.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()}),"critical"===e.type&&r.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-xs font-medium text-white bg-red-600 hover:bg-red-700 px-3 py-1 rounded transition-colors",children:"Take Action"})]})]})]})},e.id)})}),n.length>0&&r.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-600",children:[n.length," active alert",1!==n.length?"s":""]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,r.jsxs)("span",{className:"text-gray-600",children:[n.filter(e=>"critical"===e.type).length," Critical"]})]}),(0,r.jsxs)("span",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,r.jsxs)("span",{className:"text-gray-600",children:[n.filter(e=>"warning"===e.type).length," Warning"]})]}),(0,r.jsxs)("span",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsxs)("span",{className:"text-gray-600",children:[n.filter(e=>"info"===e.type).length," Info"]})]})]})]})})]})}var T=s(6824);function L(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null),[o,d]=(0,a.useState)(new Date),x=async()=>{try{c(null);let e=await (0,T.a7)();t(e),d(new Date)}catch(e){c(e instanceof Error?e.message:"Failed to load dashboard data")}finally{n(!1)}};return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"loading-spinner mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading blood bank dashboard..."})]})}):l?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Dashboard Error"}),r.jsx("p",{className:"text-gray-600 mb-4",children:l}),r.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Retry"})]})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83E\uDE78 Blood Bank Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"AI-Enhanced Stock Monitoring & Forecasting - Douala General Hospital"})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Last updated"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.toLocaleTimeString()})]})]})}),r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:r.jsx(A,{data:e})}),r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:r.jsx(m,{data:e})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsx(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:r.jsx(h,{data:e})}),r.jsx(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:r.jsx(p.Z,{data:e})})]}),r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsx(g.Z,{data:e})})]})}},655:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(326),a=s(7577);function i({data:e}){let t=(0,a.useRef)(null),[s,i]=(0,a.useState)("O+");return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"card-header",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Demand Forecasting"}),r.jsx("select",{value:s,onChange:e=>i(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(e=>r.jsx("option",{value:e,children:e},e))})]}),r.jsx("div",{className:"chart-container",children:r.jsx("svg",{ref:t,className:"w-full h-full"})})]})}s(6189)},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/home/tep/HealthTech/HealthTech/tracks/track3/dashboard/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[894,407,324,720,679],()=>s(8268));module.exports=r})();